{% extends 'base.html' %}
{% load static %}
{% block content %}

	<!-- Hero section: background image (CSS) + real HTML for SEO and accessibility -->
	<section class="hero-section" aria-label="Welcome banner" style="background-image: url('{{ hero_image }}');">
		<div class="hero-overlay" aria-hidden="true"></div>
		<div class="container-fluid hero-container">
			<div class="hero-content text-lg-left text-center">
				<h1 class="hero-title">{{ hero_title }}</h1>
				<p class="hero-subtitle">{{ hero_subtitle }}</p>
				<a href="{{ hero_button_link }}" class="btn btn-primary btn-hero-cta">{{ hero_button_text }}</a>
			</div>
		</div>
	</section>


	<!-- ========================= SECTION  ========================= -->
	<section class="section-name padding-y-sm">
		<div class="container-fluid px-4">

			<header class="section-heading d-flex justify-content-between">
				<h3 class="section-title">Popular products</h3>
				<a href="{% url 'store' %}" class="btn btn-outline-primary float-right">See all</a>
			</header><!-- sect-heading -->

			<div class="row">
				{% for product in products %} 
				<div class="col-md-3">
					<div class="card card-product-grid">
						<a href="{{ product.get_url }}" class="img-wrap">
							{% if product.product_images and product.product_images.name %}
								<img src="{{ product.product_images.url }}" alt="{{ product.product_name }}">
							{% else %}
								<img src="{% static 'images/misc/favicon.png' %}" alt="No image">
							{% endif %}
						</a>
						<figcaption class="info-wrap">
							<a href="{{ product.get_url }}" class="title"> {{ product.product_name}}</a>
							<div class="price mt-1"> $ {{ product.price}} </div> <!-- price-wrap.// -->
							<div class="rating-star">
								<i class="fa fa-star{% if product.averageReview < 0.5 %}-o{% elif product.averageReview >= 0.5 and product.averageReview < 1 %}-half-o {% endif %}" aria-hidden="true"></i>
								<i class="fa fa-star{% if product.averageReview < 1.5 %}-o{% elif product.averageReview >= 1.5 and product.averageReview < 2 %}-half-o {% endif %}" aria-hidden="true"></i>
								<i class="fa fa-star{% if product.averageReview < 2.5 %}-o{% elif product.averageReview >= 2.5 and product.averageReview < 3 %}-half-o {% endif %}" aria-hidden="true"></i>
								<i class="fa fa-star{% if product.averageReview < 3.5 %}-o{% elif product.averageReview >= 3.5 and product.averageReview < 4 %}-half-o {% endif %}" aria-hidden="true"></i>
								<i class="fa fa-star{% if product.averageReview < 4.5 %}-o{% elif product.averageReview >= 4.5 and product.averageReview < 5 %}-half-o {% endif %}" aria-hidden="true"></i>
							</div>
						</figcaption>
					</div>
				</div> <!-- col.// -->
				{% endfor %}
			</div> <!-- row.// -->

		</div><!-- container-fluid px-4 // -->
	</section>
	<!-- ========================= SECTION  END// ========================= -->

{% endblock %}